# 파이프라인 실행 로그 기록 가이드

## 🎯 목표

파이프라인 실행 시 오류 원인을 확인하기 위해 상세 로그를 기록합니다.

## 📋 방법

### 방법 1: Python 스크립트로 로그 저장 (권장)

터미널(CMD)을 열고 실행:

```bash
cd C:\CD\PROJECT\BINPICKING\Estimation_Server\Main_Server

# Python 직접 실행
python direct_test.py > output.txt 2>&1

# 로그 확인
type output.txt
```

### 방법 2: PowerShell로 실행

```powershell
cd C:\CD\PROJECT\BINPICKING\Estimation_Server\Main_Server
python direct_test.py | Out-File -FilePath output.txt -Encoding UTF8
Get-Content output.txt
```

### 방법 3: 상세 로깅 사용

```bash
cd Main_Server
python test_with_logging.py
```

로그는 `Main_Server/logs/` 디렉토리에 저장됩니다.

## 📂 생성되는 파일

### direct_test.py
- 간단한 테스트
- 콘솔 출력 + 파일 저장
- `test_log.txt` 파일 생성

### test_with_logging.py  
- 상세한 로깅
- 디버깅 정보
- `Main_Server/logs/test_YYYYMMDD_HHMMSS.log` 생성

## 🔍 확인할 내용

로그 파일에서 다음을 확인하세요:

1. **Import 에러**
   ```
   ImportError: cannot import name 'run_inference_core'
   ```

2. **서버 연결 에러**
   ```
   Connection refused
   Connection timeout
   ```

3. **파일 경로 에러**
   ```
   FileNotFoundError
   Path does not exist
   ```

4. **기타 에러**
   ```
   Exception: ...
   ```

## 💡 예상되는 에러

### 1. run_inference_core import 에러
```
ImportError: cannot import name 'run_inference_core' from 'run_inference_custom_function'
```
**원인**: 파일이 없음

### 2. ISM Server 연결 에러
```
Connection refused: connect
```
**원인**: ISM Server가 실행되지 않음

### 3. 경로 에러
```
FileNotFoundError: static/test/rgb.png
```
**원인**: 테스트 이미지 없음

## 🚀 실행 순서

1. **터미널 열기** (CMD 권장)
2. **디렉토리 이동**
   ```bash
   cd C:\CD\PROJECT\BINPICKING\Estimation_Server\Main_Server
   ```
3. **실행**
   ```bash
   python direct_test.py > output.txt 2>&1
   ```
4. **로그 확인**
   ```bash
   type output.txt
   ```

## 📊 결과 해석

### 성공 시
```
Scanner OK: 템플릿=True, 파일=126
Workflow OK
파이프라인 완료: success=True
```

### 실패 시
```
에러: ImportError: ...
Traceback: ...
```

## 🎯 다음 단계

로그를 확인한 후:
1. 에러 메시지 확인
2. 원인 파악
3. 해결 방법 적용

