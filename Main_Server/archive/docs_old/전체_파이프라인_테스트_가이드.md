# ì „ì²´ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

## âœ… í˜„ì¬ ìƒíƒœ

### ì‹œìŠ¤í…œ ìƒíƒœ
- âœ… Main_Server: êµ¬í˜„ ì™„ë£Œ
- âœ… ISM Server (8002): ì •ìƒ ì‘ë™
- âœ… PEM Server (8003): ì •ìƒ ì‘ë™
- âœ… Render Server (8004): ì •ìƒ ì‘ë™

### ê°ì²´ ìƒíƒœ
- í´ë˜ìŠ¤: 2ê°œ (lm, test)
- ê°ì²´: 16ê°œ
- í…œí”ŒÑ‚Ñ€Ğ¾íŠ¸: 1ê°œ (test/obj_000005)
- ì™„ì„±ë¥ : 6.2%

## ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•

### ë°©ë²• 1: Python ì§ì ‘ í…ŒìŠ¤íŠ¸ (ê¶Œì¥)

```bash
cd Main_Server
python run_pipeline_test.py
```

**í…ŒìŠ¤íŠ¸ ë‚´ìš©**:
1. ì„œë²„ ìƒíƒœ í™•ì¸ (ISM, PEM, Render)
2. ê°ì²´ ìƒíƒœ í™•ì¸ (test/obj_000005)
3. ì „ì²´ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰
   - í…œí”Œë¦¿ í™•ì¸ (ì´ë¯¸ ì¡´ì¬í•˜ë¯€ë¡œ ìŠ¤í‚µ)
   - ISM ì„œë²„ë¡œ ê°ì²´ ê°ì§€
   - PEM ì„œë²„ë¡œ í¬ì¦ˆ ì¶”ì •

**ì˜ˆìƒ ì¶œë ¥**:
```
============================================================
ì „ì²´ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸
============================================================

[1ë‹¨ê³„] ì„œë²„ ìƒíƒœ í™•ì¸
------------------------------------------------------------
ì „ì²´ ìƒíƒœ: healthy
  [OK] ISM: healthy
  [OK] PEM: healthy
  [OK] RENDER: healthy

[2ë‹¨ê³„] Mesh í…œí”Œë¦¿ ìƒíƒœ í™•ì¸
------------------------------------------------------------
ê°ì²´: obj_000005
ìƒíƒœ: ready
í…œí”Œë¦¿ ì¡´ì¬: True
í…œí”Œë¦¿ íŒŒì¼: mask=42, rgb=42, xyz=42

[3ë‹¨ê³„] ì „ì²´ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰
------------------------------------------------------------
ì‹¤í–‰ ìˆœì„œ:
  1. í…œí”Œë¦¿ í™•ì¸ (ì´ë¯¸ ì¡´ì¬í•˜ë©´ ìŠ¤í‚µ)
  2. ISM ì„œë²„ë¡œ ê°ì²´ ê°ì§€
  3. PEM ì„œë²„ë¡œ í¬ì¦ˆ ì¶”ì •

[4ë‹¨ê³„] ê²°ê³¼ í™•ì¸
------------------------------------------------------------
âœ… íŒŒì´í”„ë¼ì¸ ì„±ê³µ!
ì¶œë ¥ ë””ë ‰í† ë¦¬: static/output/20250128_HHMMSS
  Render: í…œí”Œë¦¿ì´ ì´ë¯¸ ì¡´ì¬í•˜ì—¬ ìŠ¤í‚µë¨
  ISM: True
    - ì¶”ë¡  ì‹œê°„: X.XXXì´ˆ
    - ê°ì§€ëœ ê°ì²´: Xê°œ
  PEM: True
    - ì¶”ë¡  ì‹œê°„: X.XXXì´ˆ
    - ê²€ì¶œëœ ê°ì²´: Xê°œ
```

### ë°©ë²• 2: APIë¥¼ í†µí•œ í…ŒìŠ¤íŠ¸

**1ë‹¨ê³„: Main_Server ì‹¤í–‰**
```bash
cd Main_Server
uvicorn main:app --host 0.0.0.0 --port 8001 --reload
```

**2ë‹¨ê³„: ìƒˆ í„°ë¯¸ë„ì—ì„œ í…ŒìŠ¤íŠ¸**
```bash
cd Main_Server
python test_simple.py
```

ë˜ëŠ”

```bash
python complete_test.py
```

**3ë‹¨ê³„: ì§ì ‘ API í˜¸ì¶œ**

**ì„œë²„ ìƒíƒœ í™•ì¸**:
```bash
curl http://localhost:8001/api/v1/servers/status
```

**ê°ì²´ ì¡°íšŒ**:
```bash
curl http://localhost:8001/api/v1/objects/classes
curl http://localhost:8001/api/v1/objects/test/obj_000005
```

**ì „ì²´ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰**:
```bash
curl -X POST http://localhost:8001/api/v1/workflow/full-pipeline \
  -H "Content-Type: application/json" \
  -d '{
    "class_name": "test",
    "object_name": "obj_000005",
    "input_images": {
      "rgb_path": "static/test/rgb.png",
      "depth_path": "static/test/depth.png",
      "camera_path": "static/test/camera.json"
    }
  }'
```

## ğŸ“Š ì˜ˆìƒ ê²°ê³¼

### ì„±ê³µ ì‹œë‚˜ë¦¬ì˜¤

**ì¶œë ¥ íŒŒì¼ êµ¬ì¡°**:
```
static/output/20250128_HHMMSS/
â”œâ”€â”€ ism/
â”‚   â””â”€â”€ detection_ism.json
â””â”€â”€ pem/
    â””â”€â”€ pose_estimation.json
```

**ISM ê²°ê³¼ (detection_ism.json)**:
```json
{
  "success": true,
  "detections": {
    "masks": [...],
    "boxes": [...],
    "scores": [...],
    "object_ids": [...]
  },
  "inference_time": X.XXX
}
```

**PEM ê²°ê³¼ (pose_estimation.json)**:
```json
{
  "success": true,
  "poses": [...],
  "pose_scores": [...],
  "num_detections": X,
  "inference_time": X.XXX
}
```

### ë¬¸ì œ ë°œìƒ ì‹œ

**ISM ì‹¤íŒ¨**:
- ì›ì¸: í…œí”Œë¦¿ ì—†ìŒ, ì´ë¯¸ì§€ ì¸ì½”ë”© ì‹¤íŒ¨, ì„œë²„ ì—°ê²° ì‹¤íŒ¨
- í•´ê²°: ì„œë²„ ë¡œê·¸ í™•ì¸, ì´ë¯¸ì§€ ê²½ë¡œ í™•ì¸

**PEM ì‹¤íŒ¨**:
- ì›ì¸: ISM ê²°ê³¼ ì—†ìŒ, ì„œë²„ ì—°ê²° ì‹¤íŒ¨
- í•´ê²°: ISM ê²°ê³¼ í™•ì¸, ì„œë²„ ìƒíƒœ í™•ì¸

**ê²½ë¡œ ë¬¸ì œ**:
- ì›ì¸: í˜¸ìŠ¤íŠ¸-ì»¨í…Œì´ë„ˆ ê²½ë¡œ ë¶ˆì¼ì¹˜
- í•´ê²°: ê²½ë¡œ ë³€í™˜ ë¡œì§ í™•ì¸

## ğŸ” ë””ë²„ê¹…

### ì„œë²„ ë¡œê·¸ í™•ì¸

**ISM Server**:
```bash
docker logs -f ism-server
```

**PEM Server**:
```bash
docker logs -f pem-server
```

**Render Server**:
```bash
docker logs -f render-server
```

### ì¶œë ¥ ë””ë ‰í† ë¦¬ í™•ì¸

```bash
cd static/output
ls -la
# ê°€ì¥ ìµœê·¼ ë””ë ‰í† ë¦¬ í™•ì¸
cd <latest_directory>
```

## ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ISM Server ì‹¤í–‰ ì¤‘
- [ ] PEM Server ì‹¤í–‰ ì¤‘
- [ ] Render Server ì‹¤í–‰ ì¤‘
- [ ] Main_Server ì‹¤í–‰ ì¤‘ (API í…ŒìŠ¤íŠ¸ ì‹œ)
- [ ] í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¡´ì¬ (static/test/)
- [ ] í…œí”Œë¦¿ ì¡´ì¬ (test/obj_000005)

## ğŸ’¡ íŒ

1. **ì²˜ìŒ ì‹¤í–‰**: Python ì§ì ‘ í…ŒìŠ¤íŠ¸ ë°©ë²• ì‚¬ìš©
2. **ë°˜ë³µ í…ŒìŠ¤íŠ¸**: APIë¥¼ í†µí•œ í…ŒìŠ¤íŠ¸ ì‚¬ìš©
3. **ë°°ì¹˜ ì²˜ë¦¬**: ì—¬ëŸ¬ ê°ì²´ì— ëŒ€í•´ ì¼ê´„ ì²˜ë¦¬ ê°€ëŠ¥
4. **ëª¨ë‹ˆí„°ë§**: Swagger UIë¡œ API í™•ì¸

## â±ï¸ ì˜ˆìƒ ì†Œìš” ì‹œê°„

- **ì„œë²„ ìƒíƒœ í™•ì¸**: < 1ì´ˆ
- **í…œí”Œë¦¿ í™•ì¸**: < 1ì´ˆ
- **ISM ì¶”ë¡ **: 1-3ì´ˆ
- **PEM ì¶”ë¡ **: 1-3ì´ˆ
- **ì „ì²´ íŒŒì´í”„ë¼ì¸**: ì•½ 3-7ì´ˆ

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

í…ŒìŠ¤íŠ¸ ì„±ê³µ í›„:
1. ë‹¤ë¥¸ ê°ì²´ì— ëŒ€í•œ í…œí”Œë¦¿ ìƒì„±
2. ì—¬ëŸ¬ ê°ì²´ ì¼ê´„ ì²˜ë¦¬
3. ì„±ëŠ¥ ì¸¡ì • ë° ìµœì í™”
4. í”„ë¡œë•ì…˜ ë°°í¬

