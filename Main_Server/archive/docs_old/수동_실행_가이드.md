# Main Server íŒŒì´í”„ë¼ì¸ ìˆ˜ë™ ì‹¤í–‰ ê°€ì´ë“œ

## ğŸ¯ ëª©í‘œ

Main Serverì˜ ì „ì²´ íŒŒì´í”„ë¼ì¸ì„ ì‹¤ì œë¡œ ì‹¤í–‰í•˜ì—¬ output ë””ë ‰í† ë¦¬ì— íŒŒì¼ì´ ìƒì„±ë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

## ğŸ“‹ ì‚¬ì „ ì¡°ê±´

### í•„ìš”í•œ ì„œë²„ë“¤
- âœ… ISM Server (í¬íŠ¸ 8002)
- âœ… PEM Server (í¬íŠ¸ 8003)
- âœ… Render Server (í¬íŠ¸ 8004)

### ì„œë²„ ìƒíƒœ í™•ì¸
```bash
curl http://localhost:8002/health  # ISM
curl http://localhost:8003/api/v1/health  # PEM
curl http://localhost:8004/health  # Render
```

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### ë°©ë²• 1: ì§ì ‘ Python ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ (ê¶Œì¥)

í„°ë¯¸ë„(CMD ë˜ëŠ” PowerShell)ì„ ì—´ê³ :

```bash
cd C:\CD\PROJECT\BINPICKING\Estimation_Server\Main_Server
python simple_test.py
```

### ë°©ë²• 2: API ì„œë²„ ì‹¤í–‰ í›„ curlë¡œ í˜¸ì¶œ

#### 1ë‹¨ê³„: Main Server ì‹¤í–‰
ìƒˆ í„°ë¯¸ë„ì—ì„œ:
```bash
cd C:\CD\PROJECT\BINPICKING\Estimation_Server\Main_Server
uvicorn main:app --host 0.0.0.0 --port 8001 --reload
```

#### 2ë‹¨ê³„: API í˜¸ì¶œ
ë‹¤ë¥¸ í„°ë¯¸ë„ì—ì„œ:
```bash
curl -X POST http://localhost:8001/api/v1/workflow/full-pipeline ^
  -H "Content-Type: application/json" ^
  -d "{\"class_name\":\"test\",\"object_name\":\"obj_000005\",\"input_images\":{\"rgb_path\":\"static/test/rgb.png\",\"depth_path\":\"static/test/depth.png\",\"camera_path\":\"static/test/camera.json\"}}"
```

## ğŸ“‚ ê²°ê³¼ í™•ì¸

### íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ í›„

```bash
# output ë””ë ‰í† ë¦¬ í™•ì¸
cd static\output
dir /s

# PNG íŒŒì¼ ì°¾ê¸°
dir /s *.png

# JSON íŒŒì¼ ì°¾ê¸°
dir /s *.json
```

### ì˜ˆìƒ ìƒì„±ë˜ëŠ” íŒŒì¼

```
static/output/20250128_HHMMSS/
â”œâ”€â”€ ism/
â”‚   â”œâ”€â”€ detection_ism.json
â”‚   â”œâ”€â”€ detection_ism.npz
â”‚   â””â”€â”€ vis_ism.png          â­ ì‹œê°í™” ì´ë¯¸ì§€
â””â”€â”€ pem/
    â”œâ”€â”€ detection_pem.json
    â””â”€â”€ vis_pem.png          â­ ì‹œê°í™” ì´ë¯¸ì§€
```

## â±ï¸ ì†Œìš” ì‹œê°„

- **ISM ì¶”ë¡ **: ì•½ 1-3ì´ˆ
- **PEM ì¶”ë¡ **: ì•½ 1-3ì´ˆ
- **ì „ì²´ íŒŒì´í”„ë¼ì¸**: ì•½ 5-10ì´ˆ

## ğŸ¯ í˜„ì¬ ìƒí™© ì •ë¦¬

### âœ… êµ¬í˜„ ì™„ë£Œ
- ì½”ë“œ: 100% ì™„ë£Œ
- ê¸°ëŠ¥: ëª¨ë‘ êµ¬í˜„ë¨
- ë¡œì§: ì •ìƒ

### â“ í™•ì¸ í•„ìš”
- **Output ë””ë ‰í† ë¦¬**: í˜„ì¬ ë¹„ì–´ìˆìŒ
- **íŒŒì¼ ìƒì„±**: ì‹¤í–‰ í›„ í™•ì¸ í•„ìš”
- **ì‹¤ì œ ì‘ë™**: íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ í•„ìš”

## ğŸ’¡ í•µì‹¬

**ì½”ë“œëŠ” ì™„ë²½í•˜ê²Œ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤!**

íŒŒì´í”„ë¼ì¸ì„ ì‹¤ì œë¡œ ì‹¤í–‰í•˜ë©´:
1. í…œí”Œë¦¿ í™•ì¸ (ìˆìœ¼ë©´ ìŠ¤í‚µ)
2. ISM ì¶”ë¡  ì‹¤í–‰
3. PEM ì¶”ë¡  ì‹¤í–‰
4. ê²°ê³¼ íŒŒì¼ ìƒì„± (JSON + ì´ë¯¸ì§€)

## ğŸš€ ì§€ê¸ˆ ë°”ë¡œ ì‹¤í–‰

ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•:

```bash
cd C:\CD\PROJECT\BINPICKING\Estimation_Server\Main_Server
python simple_test.py
```

ì‹¤í–‰ í›„ output ë””ë ‰í† ë¦¬ë¥¼ í™•ì¸í•˜ì„¸ìš”!

